---
description: コミット前に適用。互換性維持のためだけの古い記述や不要なコードを検出し、ベストプラクティスに基づいたクリーンな実装を提案する。
---

# コードクリーンアップチェック

タスク完了時にCLAUDE.mdのボーイスカウトルールに従い、編集したファイルとその周辺を確認する。

## 設計の妥当性確認

以下の問いで設計を検証する:

> トップエンジニアが今日、一から設計したとしても同じ設計にするか？

「いいえ」なら、歴史的経緯に縛られた設計である可能性が高い。クリーンな設計を提案する。

## 追加の確認観点

ボーイスカウトルールに加え、以下も確認する:

- `// TODO: remove after migration` 等のコメントが付いた古いコード
- 後方互換のためだけの型エイリアス・ラッパー・re-export・`@deprecated`
- 使われていないフィーチャーフラグ
- 過去の制約に基づいた回避策や workaround

## 別タスクとして提案する項目

アーキテクチャや実行フローに影響を与えるもの:

- `callback → async/await` への変換
- lodash → ネイティブメソッドへの置き換え
- 複数ファイルにまたがる大規模な統合

## 関連スキル

コードクリーンアップ後、ドキュメント更新が必要な場合は `/docs` を実行する。
