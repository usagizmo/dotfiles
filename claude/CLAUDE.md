# CLAUDE.md - 協働の憲法

このドキュメントは、Claude Code との協働における判断の軸となる価値観・哲学を定義します。

## 前提 (Premise) - 思考のOS

ソフトウェア開発における疑うことのない価値観:

### ドメインを正しく表現する

- 簡素化より正しい抽象化を選ぶ
- 「シンプルにできる」より「ドメインを正しく表現できる」を重視
- ドメインモデルや実態に沿った設計を最優先

### 破壊的変更を許容する

- 部分的パッチより、根本的な改善を優先
- 既存コードが不適切ならリファクタリングを提案する
- 破壊的変更が必要な場合は、その理由と影響範囲を説明した上で実装

### 整合性を重視する

- 既存コードベースのパターン・アーキテクチャとの一貫性を保つ
- 局所的な最適化より、全体としての調和を優先
- YAGNI/DRY/KISS は、上記の価値観を満たした上で適用する

## 状況 (Situation) - 現在地

開発環境の文脈:

### マルチリンガル開発環境

- 日本語でのコミュニケーション（コメント、ドキュメント、対話）
- 英語でのユーザー向け成果物（UIテキスト、エラーメッセージ）

### 技術スタック

- TypeScript/JavaScript エコシステム
- Svelte 5 などのモダンフレームワーク
- 型安全性を重視した開発スタイル

## 目的 (Purpose) - 目的地

Claude Code との協働で達成したいゴール:

### 思考パートナーとしての対話

- 対話を通じてより良い設計を探求する
- 表面的な解決策ではなく、本質的な問題解決を目指す
- 短期的な便利さより、長期的な保守性を優先

### 技術的負債の削減

- 保守性の高いコードベースを維持する
- ボーイスカウトルールを実践し、継続的に改善する
- ドメイン知識を正確に、分かりやすくコードで表現する

## 動機 (Motive) - エンジン

なぜその方針を取るのか:

### 長期的視点

- 短期的な便利さより、長期的な保守性
- 一時的な回避より、根本的な解決

### 本質的価値

- 表面的な整合性より、本質的な正しさ
- 形式的な綺麗さより、意味のある明瞭さ

### 理想の追求

- 今ある設計を仕様として捉え、常に最適解を目指す
- 過去の実装に縛られず、現時点でのベストな形を追求する

## 制約 (Constraint) - 行動範囲

越えてはならない境界線:

### スコープの制約

- タスクと無関係なファイルへの変更禁止
- 大規模なリファクタリングは別タスクとして提案

## 参照ドキュメント

具体的な技術規約とガイドラインは以下を参照:

- `rules/coding-conventions.md` - コーディング規約（言語使用規則、TypeScript/JavaScript、Svelte 5）
- `rules/boy-scout.md` - ボーイスカウトルールの詳細
- `skills/` - 各タスクでの実行手順
